name: Label Pull Requests

on:
  pull_request:

jobs:

    label-pull-requests:
        runs-on: ubuntu-latest
        permissions:
          contents: read
          pull-requests: write

        steps:
          # If PR title starts with "Internal: " then add the "Internal" label
          - name: Label Internal Pull Requests
            if: "startsWith(github.event.pull_request.title, 'Internal: ')"
            uses: actions/github-script@v7
            with:
              github-token: ${{ secrets.GITHUB_TOKEN }}
              script: |
                github.rest.issues.addLabels({
                    issue_number: context.issue.number,
                    owner: context.repo.owner,
                    repo: context.repo.repo,
                    labels: ['Internal']
                })
